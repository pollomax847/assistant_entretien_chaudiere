(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{8020:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return t(8914)}])},6655:function(e,n,t){"use strict";t.d(n,{H:function(){return l}});var r=t(5893),i=t(7294),a=t(3299),s=t(1163);t(6305);let u=(0,i.createContext)();function l(e){let{children:n}=e,{data:t,status:l}=(0,a.useSession)(),o=(0,s.useRouter)(),[c,d]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{"loading"===l?d(!0):(d(!1),t||"/auth"===o.pathname||o.push("/auth"))},[t,l,o]),c)?(0,r.jsx)("div",{children:"Chargement..."}):(0,r.jsx)(u.Provider,{value:{session:t,status:l},children:n})}},8914:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(5893),i=t(7294),a=t(3299),s=t(1163),u=t(533),l=t(9880),o=t(4653),c=t(3254),d=t(7738),h=t(5080),f=t(3875),x=t(9008),m=t.n(x),p=t(6655),v=t(6305);function g(){let[e,n]=(0,i.useState)(""),[t,x]=(0,i.useState)(""),g=(0,s.useRouter)(),j=(0,u.Z)(),{addNotification:w}=(0,v.lm)(),C=async n=>{n.preventDefault();try{let n=await (0,a.signIn)("credentials",{redirect:!1,email:e,password:t});n.error?w(n.error,"error"):(w("Connexion r\xe9ussie","success"),g.push("/"))}catch(e){w("Une erreur est survenue","error")}};return(0,r.jsx)(p.H,{children:i=>{let{signIn:a}=i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m(),{children:[(0,r.jsx)("title",{children:"Connexion - Chauffage Expert"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(l.Z,{maxWidth:"sm",children:(0,r.jsx)(o.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(c.Z,{elevation:3,sx:{p:4,width:"100%",backgroundColor:j.palette.background.paper},children:[(0,r.jsx)(d.Z,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Connexion"}),(0,r.jsxs)("form",{onSubmit:C,children:[(0,r.jsx)(h.Z,{fullWidth:!0,label:"Email",type:"email",value:e,onChange:e=>n(e.target.value),margin:"normal",required:!0}),(0,r.jsx)(h.Z,{fullWidth:!0,label:"Mot de passe",type:"password",value:t,onChange:e=>x(e.target.value),margin:"normal",required:!0}),(0,r.jsx)(f.Z,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:3},children:"Se connecter"})]})]})})})]})}})}}},function(e){e.O(0,[689,888,774,179],function(){return e(e.s=8020)}),_N_E=e.O()}]);